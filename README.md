# Платформа для запуска парсеров

## Выполнил
* Егоров Владислав
* РИМ-140950

## Требования по реализации

* Пользователь может написать в файле проекта скрипт парсера. Через веб-интерфейс он может поставить его на раписание, выключить автоматический запуск и запустить в ручную. 
* Каждый парсер имеет название, описание и путь до скрипта (или название job’а), который необходимо выполнить;
* Пользователь может посмотреть данные по запускам парсеров (время, статус - выполнен, ожидание, ошибка);
* Наличие как минимум 2 демонстрационных парсеров;
* Для запуска парсеров необходимо использовать dramatiq;
* Приложение должно уметь выгружать файлы-результаты работы парсеров;
* Проект реализован на базе fast api, dramatiq для обработки и запуска задач, использует open source базу данных, если это необходимо;
* Проект оформлен по PEP8.

## Используемый стек
* Python
* FastAPI
* FastUI
* Dramatiq
* APScheduler
* SQLite 
* Docker 
* Redis

## Описание проекта
Проект представляет собой платформу для управления и автоматизации выполнения парсеров. Основная цель — упростить работу с парсерами данных, предоставив удобный инструмент для их запуска и контроля.

Платформа позволяет хранить информацию о парсерах в базе данных, автоматически запускать задания по расписанию или вручную с помощью веб-интерфейса, а также возвращать результаты работы парсеров. 

## Требования к парсерам

Для интеграции и успешного выполнения парсеров, они должны соответствовать следующим требованиям:

### 1. Формат файла
- Парсеры должны быть реализованы в виде Python-скриптов с расширением `.py`.
- Парсеры могут использовать библиотеки указанные в `requirements.txt`.
- Каждый файл должен находиться в директории, указанной в переменной `parsers_path` (`uploaded_parsers/`).

### 2. Класс `Parser`
- В файле должен быть определён класс `Parser`.
- Класс должен содержать обязательный метод `run`, который выполняет основную задачу парсера и возвращает результат в виде словаря.

## Запуск проекта

### 1. Подготовка
- Установите Docker
- Создайте контейнер с Redis (port: 6379)
- Запустите созданный контейнер

### 2. Склонируйте репозиторий

### 3. Создайте и активируйте виртуальное окружение

### 4. Установите зависимости
`pip install -r requirements.txt`

### 5. Запустите проект
`dramatiq tasks.actor`

`uvicorn app:app --reload`

### 5. Откройте браузер и перейдите по адресу  `http://127.0.0.1:8000` (по умолчанию)

## Скриншоты страниц
### Главная страница
![Главная страница](/images/main.png)

### Страница добавления задания
![Страница добавления задания](/images/add.png)

### Просмотр созданного задания
![Просмотр созданного задания](/images/profile.png)
